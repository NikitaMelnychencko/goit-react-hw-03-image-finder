{"version":3,"sources":["components/Modal/Modal.module.scss","components/Section/Section.module.scss","components/Button/Button.module.scss","components/Section/Section.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","AppServise.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","App.js","index.js","components/ImageGallery/ImageGallery.module.scss","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Section","children","color","className","s","Container","style","backgroundColor","ImageGalleryItem","srs","alt","onClick","largeImageURL","myRef","ref","Images","loading","src","Button","type","ImageGallery","state","image","status","error","page","React","createRef","nextPage","setState","scrollInto","elem","current","scrollIntoView","behavior","block","prevProps","prevState","searchName","this","props","value","url","fetch","then","res","ok","json","Promise","reject","Error","fetchApi","hits","length","catch","message","Galere","map","img","webformatURL","tags","id","height","width","timeout","PureComponent","Searchbar","handleNameChange","e","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","warn","SearchForm","SearchFormButton","htmlFor","nanoid","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","showModal","option","handleFormSubmit","toggleModal","imageSrc","imageAlt","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a960c4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2RA74\",\"Modal\":\"Modal_Modal__3KAIl\",\"Button\":\"Modal_Button__2PN90\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Section\":\"Section_Section__1Lspm\",\"Container\":\"Section_Container__3E1EP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2hEk5\"};","import PropTypes from 'prop-types';\nimport s from './Section.module.scss';\n\nconst Section = ({ children, color }) => {\n  return (\n    <section className={s.Section}>\n      <div className={s.Container} style={{ backgroundColor: `${color}` }}>\n        {children}\n      </div>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  children: PropTypes.node,\n  color: PropTypes.string,\n};\n\nexport default Section;\n","import PropTypes from 'prop-types';\nimport s from './ImageGallery.module.scss';\n\nconst ImageGalleryItem = ({ srs, alt, onClick, largeImageURL, myRef }) => {\n  return (\n    <>\n      {myRef ? (\n        <li\n          ref={myRef}\n          className={s.Images}\n          onClick={() => onClick(largeImageURL, alt)}\n          loading=\"lazy\"\n        >\n          <img className={s.ImageGalleryItem} src={srs} alt={alt} />\n        </li>\n      ) : (\n        <li\n          className={s.Images}\n          onClick={() => onClick(largeImageURL, alt)}\n          loading=\"lazy\"\n        >\n          <img className={s.ImageGalleryItem} src={srs} alt={alt} />\n        </li>\n      )}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  srs: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  myRef: PropTypes.object,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nconst Button = ({ onClick }) => {\n  return (\n    <>\n      <button type=\"button\" className={s.Button} onClick={() => onClick()}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { PureComponent } from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport fetchApi from 'AppServise';\nimport Button from 'components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.scss';\nclass ImageGallery extends PureComponent {\n  state = {\n    image: [],\n    status: 'idle',\n    error: null,\n    page: 1,\n    myRef: React.createRef(),\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.searchName !== this.props.searchName ||\n      prevState.page !== this.state.page\n    ) {\n      if (prevProps.searchName !== this.props.searchName)\n        this.setState({ image: [], status: 'pending' });\n      fetchApi(this.props.searchName, this.state.page)\n        .then(image => {\n          if (image.hits.length === 0) {\n            return Promise.reject(\n              new Error(`No results were found for your search.`),\n            );\n          }\n          image.hits[0] = { ...image.hits[0], myRef: this.state.myRef };\n          this.setState({\n            image: [...this.state.image, ...image.hits],\n            status: 'resolved',\n          });\n          this.scrollInto(this.state.myRef);\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n  nextPage = () => {\n    this.setState({\n      page: this.state.page + 1,\n    });\n  };\n\n  scrollInto = elem => {\n    elem.current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'end',\n    });\n  };\n  render() {\n    const { image, status, error } = this.state;\n    return (\n      <>\n        {status === 'idle' && <p>Input value</p>}\n        {status === 'rejected' && <strong>{error.message}</strong>}\n        {image.length > 0 && (\n          <ul className={s.Galere}>\n            {image.map(img => (\n              <ImageGalleryItem\n                key={img.id}\n                onClick={this.props.onClick}\n                srs={img.webformatURL}\n                alt={img.tags}\n                largeImageURL={img.largeImageURL}\n                myRef={img.myRef}\n              />\n            ))}\n          </ul>\n        )}\n        {status === 'pending' && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {status === 'resolved' && <Button onClick={this.nextPage} />}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","const BASE = 'https://pixabay.com/api/';\nconst KEY = '23933594-99c5d6abfa76120a4e36d3057';\n\nexport default function fetchApi(value, page) {\n  const url =\n    BASE +\n    `?q=${value}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(url).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Oops, something went wrong.`));\n  });\n}\n","import { nanoid } from 'nanoid';\nimport { Component } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.scss';\n\nclass Searchbar extends Component {\n  state = {\n    searchName: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ searchName: e.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchName.trim() === '') {\n      toast.warn('Input value!');\n      return;\n    }\n    this.props.onSubmit(this.state.searchName);\n    this.setState({ searchName: '' });\n  };\n  render() {\n    return (\n      <div className=\"searchbar\">\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <FiSearch />\n          </button>\n          <label htmlFor={nanoid()} className={s.SearchFormButtonLabel}>\n            Search pictures\n          </label>\n          <input\n            id={nanoid()}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchName}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.scss';\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose(null, null);\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose(null, null);\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <button\n            type=\"button\"\n            className={s.Button}\n            onClick={this.props.onClose}\n          >\n            Close\n          </button>\n          <img src={this.props.src} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\nimport Section from 'components/Section/Section';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport Modal from 'components/Modal/Modal';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    searchName: '',\n    showModal: false,\n    option: {},\n  };\n\n  handleFormSubmit = searchName => {\n    this.setState({ searchName });\n  };\n  toggleModal = (src, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      option: { imageSrc: src, imageAlt: alt },\n    }));\n  };\n  render() {\n    const { option, searchName, showModal } = this.state;\n    return (\n      <>\n        <Section color={'#3f51b5'}>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n        </Section>\n        <Section>\n          <ImageGallery searchName={searchName} onClick={this.toggleModal} />\n        </Section>\n        {showModal && (\n          <Modal\n            src={option.imageSrc}\n            alt={option.imageAlt}\n            onClose={this.toggleModal}\n          />\n        )}\n        <ToastContainer autoClose={4000} />\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport './style/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Galere\":\"ImageGallery_Galere__KHy4W\",\"Images\":\"ImageGallery_Images__vGd-9\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__113jN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__3_8Ob\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1TghB\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2rr3s\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3onBq\"};"],"sourceRoot":""}