(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2RA74",Modal:"Modal_Modal__3KAIl",Button:"Modal_Button__2PN90"}},14:function(e,t,a){e.exports={Section:"Section_Section__1Lspm",Container:"Section_Container__3E1EP"}},18:function(e,t,a){e.exports={Button:"Button_Button__2hEk5"}},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),s=a(3),l=a(4),i=a(6),u=a(5),h=a(14),m=a.n(h),j=a(1),d=function(e){var t=e.children,a=e.color;return Object(j.jsx)("section",{className:m.a.Section,children:Object(j.jsx)("div",{className:m.a.Container,style:{backgroundColor:"".concat(a)},children:t})})},b=a(15),p=a(16),g=a(7),f=a.n(g),O=function(e){var t=e.srs,a=e.alt,n=e.onClick,r=e.largeImageURL,o=e.myRef;return Object(j.jsx)(j.Fragment,{children:o?Object(j.jsx)("li",{ref:o,className:f.a.Images,onClick:function(){return n(r,a)},loading:"lazy",children:Object(j.jsx)("img",{className:f.a.ImageGalleryItem,src:t,alt:a})}):Object(j.jsx)("li",{className:f.a.Images,onClick:function(){return n(r,a)},loading:"lazy",children:Object(j.jsx)("img",{className:f.a.ImageGalleryItem,src:t,alt:a})})})};var y=a(18),v=a.n(y),x=function(e){var t=e.onClick;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{type:"button",className:v.a.Button,onClick:function(){return t()},children:"Load more"})})},S=a(19),_=a.n(S),N=(a(46),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={image:[],status:"idle",error:null,page:1,myRef:r.a.createRef()},e.nextPage=function(){e.setState({page:e.state.page+1})},e.scrollInto=function(e){e.current.scrollIntoView({behavior:"smooth",block:"end"})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.searchName===this.props.searchName&&t.page===this.state.page||(e.searchName!==this.props.searchName&&this.setState({image:[]}),this.setState({status:"pending"}),function(e,t){var a="https://pixabay.com/api/"+"?q=".concat(e,"&page=").concat(t,"&key=").concat("23933594-99c5d6abfa76120a4e36d3057","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong."))}))}(this.props.searchName,this.state.page).then((function(e){if(0===e.hits.length)return Promise.reject(new Error("No results were found for your search."));e.hits[0]=Object(p.a)(Object(p.a)({},e.hits[0]),{},{myRef:a.state.myRef}),a.setState({image:[].concat(Object(b.a)(a.state.image),Object(b.a)(e.hits)),status:"resolved"}),a.scrollInto(a.state.myRef)})).catch((function(e){return a.setState({error:e,status:"rejected"})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.image,n=t.status,r=t.error;return Object(j.jsxs)(j.Fragment,{children:["idle"===n&&Object(j.jsx)("p",{children:"Input value"}),"rejected"===n&&Object(j.jsx)("strong",{children:r.message}),a.length>0&&Object(j.jsx)("ul",{className:f.a.Galere,children:a.map((function(t){return Object(j.jsx)(O,{onClick:e.props.onClick,srs:t.webformatURL,alt:t.tags,largeImageURL:t.largeImageURL,myRef:t.myRef},t.id)}))}),"pending"===n&&Object(j.jsx)(_.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),"resolved"===n&&Object(j.jsx)(x,{onClick:this.nextPage})]})}}]),a}(n.PureComponent)),C=N,k=a(11),w=a(20),I=a(10),F=(a(17),a(9)),B=a.n(F),M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchName:""},e.handleNameChange=function(t){e.setState({searchName:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchName.trim()?(e.props.onSubmit(e.state.searchName),e.setState({searchName:""})):I.b.warn("Input value!")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"searchbar",children:Object(j.jsxs)("form",{className:B.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(j.jsx)("button",{type:"submit",className:B.a.SearchFormButton,children:Object(j.jsx)(w.a,{})}),Object(j.jsx)("label",{htmlFor:Object(k.a)(),className:B.a.SearchFormButtonLabel,children:"Search pictures"}),Object(j.jsx)("input",{id:Object(k.a)(),className:B.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchName,onChange:this.handleNameChange})]})})}}]),a}(n.Component),R=M,L=a(12),G=a.n(L),E=document.querySelector("#modal-root"),P=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose(null,null)},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose(null,null)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(j.jsx)("div",{className:G.a.Overlay,onClick:this.handleBackdropClick,children:Object(j.jsxs)("div",{className:G.a.Modal,children:[Object(j.jsx)("button",{type:"button",className:G.a.Button,onClick:this.props.onClose,children:"Close"}),Object(j.jsx)("img",{src:this.props.src,alt:this.props.alt})]})}),E)}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchName:"",showModal:!1,option:{}},e.handleFormSubmit=function(t){e.setState({searchName:t})},e.toggleModal=function(t,a){e.setState((function(e){return{showModal:!e.showModal,option:{imageSrc:t,imageAlt:a}}}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.option,a=e.searchName,n=e.showModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{color:"#3f51b5",children:Object(j.jsx)(R,{onSubmit:this.handleFormSubmit})}),Object(j.jsx)(d,{children:Object(j.jsx)(C,{searchName:a,onClick:this.toggleModal})}),n&&Object(j.jsx)(P,{src:t.imageSrc,alt:t.imageAlt,onClose:this.toggleModal}),Object(j.jsx)(I.a,{autoClose:4e3})]})}}]),a}(n.Component),D=A;a(47);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Galere:"ImageGallery_Galere__KHy4W",Images:"ImageGallery_Images__vGd-9",ImageGalleryItem:"ImageGallery_ImageGalleryItem__113jN"}},9:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__3_8Ob",SearchFormButton:"Searchbar_SearchFormButton__1TghB",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2rr3s",SearchFormInput:"Searchbar_SearchFormInput__3onBq"}}},[[48,1,2]]]);
//# sourceMappingURL=main.46fa1638.chunk.js.map